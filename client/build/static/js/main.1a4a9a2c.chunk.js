(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{199:function(e){e.exports=JSON.parse('{"name":"client","version":"0.1.0","private":true,"proxy":"http://localhost:5000","dependencies":{"@material-ui/core":"^4.11.0","@material-ui/icons":"^4.9.1","@testing-library/jest-dom":"^5.11.5","@testing-library/react":"^11.1.1","@testing-library/user-event":"^12.2.0","axios":"^0.21.0","howler":"^2.2.1","lodash":"^4.17.20","react":"^17.0.1","react-canvas-draw":"^1.1.1","react-color":"^2.19.3","react-custom-scrollbars":"^4.2.1","react-dom":"^17.0.1","react-modal":"^3.12.1","react-router-dom":"^5.2.0","react-scripts":"4.0.0","react-spring":"^8.0.27","react-toastify":"^6.1.0","socket.io-client":"^2.3.0","spellchecker":"^3.7.1","use-sound":"^2.0.1","uuid":"^8.3.1","web-vitals":"^0.2.4"},"scripts":{"start":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject"},"eslintConfig":{"extends":["react-app","react-app/jest"]},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]}}')},219:function(e,t,n){},240:function(e,t,n){},243:function(e,t,n){},244:function(e,t,n){},260:function(e,t,n){},261:function(e,t,n){},262:function(e,t,n){},369:function(e,t,n){},379:function(e,t,n){},380:function(e,t,n){},381:function(e,t,n){},382:function(e,t,n){},414:function(e,t){},419:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(0),i=n.n(c),r=n(13),s=n.n(r),o=(n(219),n(33)),l=n(18),d=n(30),u=n(201),j=n(20),m=n.n(j),b="token",h="displayName",p="emojiId",f="isGuest",x="id",O={isAuthenticated:function(){return localStorage.getItem(b)},verifyToken:function(){return new Promise((function(e,t){var n=localStorage.getItem(b);n?m.a.get("/user/verify",{headers:{token:n}}).then((function(){e("Token is valid")})).catch((function(){t(Error("Token is not valid"))})):t(Error("No token"))}))},logout:function(){this.deleteToken(),this.deleteDisplayName(),this.deleteEmojiId(),this.deleteIsGuest(),this.deleteId()},saveToken:function(e){localStorage.setItem(b,e)},deleteToken:function(){localStorage.removeItem(b)},getToken:function(){return localStorage.getItem(b)},saveDisplayName:function(e){localStorage.setItem(h,e)},getDisplayName:function(){return localStorage.getItem(h)},deleteDisplayName:function(){localStorage.removeItem(h)},saveEmojiId:function(e){localStorage.setItem(p,"".concat(e))},getEmojiId:function(){return parseInt(localStorage.getItem(p))},deleteEmojiId:function(){localStorage.removeItem(p)},saveIsGuest:function(e){localStorage.setItem(f,"".concat(e))},getIsGuest:function(){return"true"==localStorage.getItem(f)},deleteIsGuest:function(){localStorage.removeItem(f)},saveId:function(e){localStorage.setItem(x,"".concat(e))},getId:function(){return localStorage.getItem(x)},deleteId:function(){localStorage.removeItem(x)}};var g=function(e){var t=e.component,n=Object(u.a)(e,["component"]);return Object(a.jsx)(l.b,Object(d.a)(Object(d.a)({},n),{},{render:function(e){return O.isAuthenticated()?Object(a.jsx)(t,Object(d.a)({},e)):Object(a.jsx)(l.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},v=n(8),w=n(459),y=(n(240),n.p+"static/media/Authpage_background.53c579d1.jpg"),k=n(15),C=n.n(k),S=n(23),N=n(46),I=n.n(N),R=n(451),L=n(455),z=n(478),E=n.p+"static/media/logo.e9875a4f.svg",T={Start:1,Login:2,Register:3,Guest:4},G=n(16);n(44);G.a.configure();var P=function(e){var t=Object(c.useRef)(),n=Object(c.useRef)();function i(e){return r.apply(this,arguments)}function r(){return(r=Object(S.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"!==t.key){e.next=3;break}return e.next=3,s();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(){return o.apply(this,arguments)}function o(){return(o=Object(S.a)(C.a.mark((function a(){var c;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,m.a.post("/user/login",{email:t.current.value,password:n.current.value});case 3:return c=a.sent,O.saveToken(c.data.token),O.saveDisplayName(c.data.user.name),O.saveEmojiId(c.data.user.emojiId),O.saveIsGuest(c.data.user.isGuest),O.saveId(c.data.user.id),a.next=11,O.verifyToken();case 11:e.handleRedirect(),a.next=18;break;case 14:a.prev=14,a.t0=a.catch(0),console.log(a.t0),G.a.error("Authentication error");case 18:case"end":return a.stop()}}),a,null,[[0,14]])})))).apply(this,arguments)}return Object(a.jsx)("div",{children:Object(a.jsxs)(R.a,{container:!0,spacing:3,children:[Object(a.jsx)(R.a,{item:!0,xs:12,children:Object(a.jsx)(L.a,{onClick:function(){return e.setView(T.Start)},children:Object(a.jsx)(I.a,{})})}),Object(a.jsx)(R.a,{item:!0,xs:12,children:Object(a.jsx)("img",{className:"authentication-logo",alt:"Logo",src:E})}),Object(a.jsx)(R.a,{item:!0,xs:12,children:Object(a.jsx)(z.a,{onKeyDown:i,inputRef:t,label:"Email",variant:"outlined",fullWidth:!0,type:"email"})}),Object(a.jsx)(R.a,{item:!0,xs:12,children:Object(a.jsx)(z.a,{onKeyDown:i,inputRef:n,label:"Password",variant:"outlined",fullWidth:!0,type:"password"})}),Object(a.jsx)(R.a,{item:!0,xs:12,children:Object(a.jsx)("button",{onClick:s,className:"login-button login-color",children:"Login"})})]})})};n(243);var W=function(e){return Object(a.jsx)("div",{children:Object(a.jsxs)(R.a,{container:!0,spacing:1,children:[Object(a.jsx)(R.a,{className:"logo-container",item:!0,xs:12,children:Object(a.jsx)("img",{style:{width:"80%"},id:"authentication-logo",alt:"Logo",src:E})}),Object(a.jsx)(R.a,{item:!0,xs:12,children:Object(a.jsx)("button",{onClick:function(){return e.setView(T.Login)},className:"login-button login-color",children:"Login"})}),Object(a.jsx)(R.a,{item:!0,xs:12,children:Object(a.jsx)("button",{onClick:function(){return e.setView(T.Guest)},className:"login-button guest-color",children:"Play As Guest"})}),Object(a.jsx)(R.a,{item:!0,xs:12,children:Object(a.jsxs)("h6",{className:"register-text",children:["Dont have an account? ",Object(a.jsx)("span",{children:Object(a.jsx)("button",{onClick:function(){return e.setView(T.Register)},className:"register-button",children:"Register"})})]})})]})})},D=(n(244),n(187)),B=n.n(D),H=n(186),M=n.n(H);var A=function(e){return Object(a.jsxs)("div",{className:"displayiconpicker-container",children:[Object(a.jsx)(L.a,{onClick:function(){var t=((e.index-1)%e.icons.length+e.icons.length)%e.icons.length;e.setIndex(t)},children:Object(a.jsx)(M.a,{})}),Object(a.jsx)("img",{className:"displayiconpicker-emoji",alt:"Logo",src:e.icons[e.index]}),Object(a.jsx)(L.a,{onClick:function(){var t=(e.index+1)%e.icons.length;e.setIndex(t)},children:Object(a.jsx)(B.a,{})})]})},V=[n.p+"static/media/emoji1.dc74cf24.svg",n.p+"static/media/emoji2.a7358144.svg",n.p+"static/media/emoji3.a668302d.svg",n.p+"static/media/emoji4.cec52361.svg",n.p+"static/media/emoji5.16106a38.svg",n.p+"static/media/emoji6.fe03129a.svg",n.p+"static/media/emoji7.d778670d.svg",n.p+"static/media/emoji8.1af10857.svg",n.p+"static/media/emoji9.8af0409a.svg",n.p+"static/media/emoji10.c1d505dc.svg",n.p+"static/media/emoji11.8ef6e480.svg",n.p+"static/media/emoji12.8a6c3ed8.svg",n.p+"static/media/emoji13.e1f3a501.svg",n.p+"static/media/emoji14.377c2ec5.svg",n.p+"static/media/emoji15.039f7cc3.svg",n.p+"static/media/emoji16.54747372.svg",n.p+"static/media/emoji17.0f5ec1b1.svg",n.p+"static/media/emoji18.a1df4c65.svg",n.p+"static/media/emoji19.c34b03f5.svg",n.p+"static/media/emoji20.a59e0401.svg",n.p+"static/media/emoji21.44399be4.svg",n.p+"static/media/emoji22.e866e98f.svg",n.p+"static/media/emoji23.609141c1.svg",n.p+"static/media/emoji24.8a85d073.svg",n.p+"static/media/emoji25.c68f7ec5.svg",n.p+"static/media/emoji26.c2f458a8.svg",n.p+"static/media/emoji27.75267a83.svg",n.p+"static/media/emoji28.280c93fa.svg"];G.a.configure();var U=function(e){var t=Object(c.useState)(0),n=Object(v.a)(t,2),i=n[0],r=n[1],s=Object(c.useRef)(),o=Object(c.useRef)(),l=Object(c.useRef)();function d(e){return u.apply(this,arguments)}function u(){return(u=Object(S.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"!==t.key){e.next=3;break}return e.next=3,j();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return b.apply(this,arguments)}function b(){return(b=Object(S.a)(C.a.mark((function t(){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.a.post("/user/register",{email:s.current?s.current.value:void 0,password:o.current?o.current.value:void 0,name:l.current?l.current.value:"",emojiId:i,isGuest:e.isGuest});case 3:return n=t.sent,O.saveToken(n.data.token),O.saveDisplayName(n.data.user.name),O.saveEmojiId(n.data.user.emojiId),O.saveIsGuest(n.data.user.isGuest),O.saveId(n.data.user.id),t.next=11,O.verifyToken();case 11:e.handleRedirect(),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),G.a.error("Authentication error");case 17:case"end":return t.stop()}}),t,null,[[0,14]])})))).apply(this,arguments)}return Object(a.jsx)("div",{children:Object(a.jsxs)(R.a,{container:!0,spacing:3,justify:"center",children:[Object(a.jsx)(R.a,{item:!0,xs:12,children:Object(a.jsx)(L.a,{onClick:function(){return e.setView(T.Start)},children:Object(a.jsx)(I.a,{})})}),Object(a.jsx)(R.a,{item:!0,xs:12,children:Object(a.jsx)("img",{className:"authentication-logo",alt:"Logo",src:E})}),Object(a.jsx)(R.a,{item:!0,xs:6,children:Object(a.jsx)(A,{icons:V,setIndex:r,index:i})}),Object(a.jsx)(R.a,{item:!0,xs:12,children:Object(a.jsx)(z.a,{onKeyDown:d,inputRef:l,label:"Display Name",variant:"outlined",fullWidth:!0})}),!e.isGuest&&Object(a.jsx)(R.a,{item:!0,xs:12,children:Object(a.jsx)(z.a,{onKeyDown:d,inputRef:s,label:"Email",variant:"outlined",fullWidth:!0,type:"email"})}),!e.isGuest&&Object(a.jsx)(R.a,{item:!0,xs:12,children:Object(a.jsx)(z.a,{onKeyDown:d,inputRef:o,label:"Password",variant:"outlined",fullWidth:!0,type:"password"})}),Object(a.jsx)(R.a,{item:!0,xs:12,children:Object(a.jsx)("button",{onClick:j,className:"login-button login-color",children:e.isGuest?"Play":"Register"})})]})})};var Y=function(e){var t,n=Object(c.useState)(T.Start),i=Object(v.a)(n,2),r=i[0],s=i[1],o=Object(l.g)();switch(r){case T.Start:t=Object(a.jsx)(W,{setView:s});break;case T.Login:t=Object(a.jsx)(P,{setView:s,handleRedirect:d});break;case T.Register:t=Object(a.jsx)(U,{isGuest:!1,setView:s,handleRedirect:d});break;case T.Guest:t=Object(a.jsx)(U,{isGuest:!0,setView:s,handleRedirect:d})}function d(){e.location&&e.location.state&&e.location.from?o.push(e.location.state.from.pathname):o.push("/")}return Object(a.jsx)("div",{className:"authentication-view",style:{backgroundImage:"url(".concat(y,")")},children:Object(a.jsx)(w.a,{className:"authentication-container",maxWidth:"sm",children:t})})},J=n(460),F=n(458),K=Object(J.a)((function(e){return{root:{},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary,boxShadow:"10px 10px 0 0 rgba(0,0,0, .2)"},logo:{width:"10%",minWidth:"85px"}}})),X=function(e){var t=K(),n=e.xs,c=e.sm;return Object(a.jsx)(R.a,{item:!0,xs:n||12,sm:c||12,children:Object(a.jsx)(F.a,{className:t.paper,children:Object(a.jsx)("img",{className:t.logo,alt:"Logo",src:E})})})},q=n(7),_=n(461),Q=n(462),Z=n(463),$=n(464),ee=n(465),te=n(466),ne=n(421),ae=n(467),ce=n(189),ie=n.n(ce),re=n(188),se=n(190),oe=n.n(se);G.a.configure();var le=Object(q.a)((function(e){return{head:{backgroundColor:e.palette.primary.main,color:e.palette.common.white},body:{fontSize:14}}}))(_.a),de=Object(q.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(Q.a),ue=Object(J.a)((function(e){return{tableContainer:{maxHeight:"70vh",overflowY:"hidden"},scroll:{minHeight:"69vh",minWidth:700}}})),je=function(e){var t=e.rooms,n=e.refresh,c=ue(),i=Object(l.g)();return Object(a.jsx)(Z.a,{className:c.tableContainer,component:F.a,children:Object(a.jsx)(re.Scrollbars,{autoHide:!0,className:c.scroll,children:t&&Object(a.jsxs)($.a,{stickyHeader:!0,"aria-label":"lobby table",children:[Object(a.jsx)(ee.a,{children:Object(a.jsxs)(Q.a,{children:[Object(a.jsx)(le,{children:"Room #"}),Object(a.jsx)(le,{align:"right",children:"Status"}),Object(a.jsx)(le,{align:"right",children:"Spellcheck"}),Object(a.jsx)(le,{align:"right",children:"Players"}),Object(a.jsx)(le,{align:"right",children:Object(a.jsx)(L.a,{onClick:n,variant:"contained",style:{color:"#ffffff"},children:Object(a.jsx)(ie.a,{})})})]})}),Object(a.jsx)(te.a,{children:t.map((function(e){return Object(a.jsxs)(de,{children:[Object(a.jsx)(le,{component:"th",scope:"row",children:Object(a.jsx)(ne.a,{variant:"h6",children:e.id})}),Object(a.jsx)(le,{align:"right",children:Object(a.jsx)(ne.a,{variant:"h6",children:e.isPrivate?"Private":"Open"})}),Object(a.jsx)(le,{align:"right",children:e.isSpellCheck?Object(a.jsx)(oe.a,{color:"secondary"}):""}),Object(a.jsx)(le,{align:"right",children:Object(a.jsx)(ne.a,{variant:"h6",children:"".concat(e.userCount,"/8")})}),Object(a.jsx)(le,{align:"right",children:Object(a.jsx)(ae.a,{onClick:function(){return i.push("/rooms/".concat(e.id))},variant:"contained",color:"secondary",children:"JOIN"})})]},e.id)}))})]})})})};G.a.configure();var me=Object(J.a)((function(e){return{root:{display:"flex",justifyContent:"center",alignItems:"center",flexGrow:1},gridContainer:{width:"100%",height:"100%"},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},displayIconEmoji:{width:"33%"},bigButton:{height:"100%",width:"100%"},logoutGrid:{display:"flex",justifyContent:"flex-end"},logoutButton:{fontSize:"1rem"}}})),be=function(e){var t=e.handleCreate,n=e.handleAutoJoin,i=e.handleLogout,r=me(),s=Object(c.useState)(!1),o=Object(v.a)(s,2),l=o[0],d=o[1],u=Object(c.useState)(0),j=Object(v.a)(u,2),m=j[0],b=j[1],h=Object(c.useState)(""),p=Object(v.a)(h,2),f=p[0],x=p[1];return Object(c.useEffect)((function(){x(O.getDisplayName()),b(O.getEmojiId()),d(O.getIsGuest())}),[]),Object(a.jsx)("div",{className:r.root,children:Object(a.jsxs)(R.a,{className:r.gridContainer,container:!0,spacing:3,children:[Object(a.jsx)(R.a,{className:r.logoutGrid,item:!0,xs:12,children:Object(a.jsx)(ae.a,{className:r.logoutButton,color:"secondary",onClick:i,children:"Logout"})}),Object(a.jsx)(R.a,{item:!0,xs:12,children:Object(a.jsx)(F.a,{className:r.paper,children:Object(a.jsxs)("div",{children:[Object(a.jsx)("img",{className:r.displayIconEmoji,alt:"User Icon",src:V[m]}),Object(a.jsx)(ne.a,{variant:"h6",children:f})]})})}),Object(a.jsx)(R.a,{item:!0,xs:12,sm:12,children:Object(a.jsx)(ae.a,{onClick:n,size:"large",fullWidth:!0,variant:"contained",color:"secondary",children:"QUICK JOIN"})}),!l&&Object(a.jsx)(R.a,{item:!0,xs:12,sm:12,children:Object(a.jsx)(ae.a,{onClick:t,size:"large",fullWidth:!0,variant:"contained",color:"secondary",children:"CREAT LOBBY"})})]})})};G.a.configure();var he=Object(J.a)((function(e){return{root:{height:"100vh",width:"100vw",display:"flex",justifyContent:"center",alignItems:"center",backgroundImage:"url(".concat(y,")"),flexGrow:1},gridContainer:{width:"100%",height:"100%"},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},lobbies:{padding:e.spacing(2),textAlign:"center",backgroundColor:e.palette.grey[200]},userProfile:{backgroundColor:e.palette.grey[200],padding:e.spacing(3)},logo:{width:"10%"}}})),pe=function(e){var t=he(),n=Object(l.g)(),i=Object(c.useState)([]),r=Object(v.a)(i,2),s=r[0],o=r[1];Object(c.useEffect)((function(){u()}),[]);function d(){return(d=Object(S.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.post("/room/create",{},{headers:{token:O.getToken()}});case 3:t=e.sent,n.push("/rooms/".concat(t.data.room.id)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),G.a.error("Error joining room");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function u(){return j.apply(this,arguments)}function j(){return(j=Object(S.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("/room/all",{headers:{token:O.getToken()}});case 3:t=e.sent,o(t.data.rooms),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function b(){return(b=Object(S.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("/room/random",{headers:{token:O.getToken()}});case 3:t=e.sent,n.push("/rooms/".concat(t.data.roomId)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),G.a.error("No rooms found");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return Object(a.jsx)("div",{className:t.root,children:Object(a.jsxs)(R.a,{className:t.gridContainer,container:!0,spacing:3,children:[Object(a.jsx)(X,{}),Object(a.jsx)(R.a,{item:!0,xs:12,sm:8,children:Object(a.jsxs)(F.a,{className:(t.paper,t.lobbies),children:[Object(a.jsx)(ne.a,{variant:"h5",children:"".concat(s.length?"We found some games that you could join!":"No one is playing right now :( Start a game and invite your friends!")}),Object(a.jsx)("br",{}),Object(a.jsx)(je,{refresh:u,rooms:s})]})}),Object(a.jsx)(R.a,{item:!0,xs:12,sm:4,children:Object(a.jsx)(F.a,{className:(t.paper,t.userProfile),children:Object(a.jsx)(be,{handleLogout:function(){O.logout(),n.push("/login")},handleAutoJoin:function(){return b.apply(this,arguments)},handleCreate:function(){return d.apply(this,arguments)}})})})]})})};var fe=function(e){return Object(a.jsx)(pe,{})},xe=n(39),Oe=n(42),ge=(n(260),n(192)),ve=n.n(ge),we=(n(261),n(191)),ye=n.n(we),ke=n.p+"static/media/pencil.57559400.svg";var Ce=function(e){var t=e.score,n=e.isHost,c=e.emojiId,i=e.name,r=e.isVisible,s=e.isDrawing,o=e.isCorrect;return Object(a.jsxs)("div",{className:"JoinedUser-container ".concat(o?"JoinedUser-Correct":"JoinedUser-Regular"),children:[Object(a.jsx)("img",{style:{visibility:r?"visible":"hidden"},className:"JoinedUser-icon",alt:"Username",src:V[c]}),Object(a.jsx)("h3",{style:{visibility:r?"visible":"hidden"},children:i}),n&&Object(a.jsx)(ye.a,{className:"leader-icon",style:{color:"FFD700"}}),s&&Object(a.jsx)("img",{className:"JoinedUser-pencil",src:ke}),void 0!==t&&Object(a.jsx)("h5",{children:"Score: ".concat(t)})]})};var Se=function(e){var t=e.isGame,n=e.scores,c=e.handleInviteLink,i=e.users,r=e.hostId,s=e.drawingUserId,o=e.correctUserIds;function l(){var e=[];if(void 0!==i)for(var c=function(c){var l=i[c];if(e.find((function(e){return e.id===l.id})))return"continue";var d=l.id===r,u=l.id===s,j=!1;o&&o.find((function(e){return e===l.id}))&&(j=!0);var m=t?0:void 0;if(void 0!==n){var b=n.find((function(e){return e.id===l.id}));void 0!==b&&null!==b&&(m=b.score)}e.push(Object(a.jsx)(Ce,{isCorrect:j,isDrawing:u,isVisible:!0,score:m,isHost:d,emojiId:l.emojiId,name:l.name},c))},l=0;l<i.length;l++)c(l);for(var d=e.length;d<8;d++)e.push(Object(a.jsx)(Ce,{isVisible:!1},d));return e}return Object(a.jsx)(R.a,{item:!0,xs:12,className:"ParticipantView-container",children:Object(a.jsxs)("div",{className:"ParticipantView",children:[Object(a.jsxs)("div",{className:"joined-container",children:[Object(a.jsx)(ve.a,{}),Object(a.jsx)("h4",{children:"".concat(i.length,"/8")})]}),Object(a.jsx)("div",{className:"participant-grid",children:l()}),Object(a.jsx)(ae.a,{variant:"contained",disableElevation:!0,style:{backgroundColor:"#CE5BF7",borderRadius:0,color:"white"},onClick:c,children:"Invite Link"})]})})},Ne=(n(262),n(468)),Ie=n(482),Re=n(480),Le=n(481),ze=n(477),Ee=n(21),Te=n.n(Ee),Ge=Object(J.a)((function(e){return{disabledButton:{color:"white"}}}));var Pe=function(e){var t=Ge(),n=Object(l.g)(),i=Object(c.useState)(e.initialRoomSettings.isPrivate),r=Object(v.a)(i,2),s=r[0],o=r[1],d=Object(c.useState)(e.initialRoomSettings.password?e.initialRoomSettings.password:""),u=Object(v.a)(d,2),j=u[0],m=u[1],b=Object(c.useState)(e.initialRoomSettings.rounds),h=Object(v.a)(b,2),p=h[0],f=h[1],x=Object(c.useState)(e.initialRoomSettings.timer),O=Object(v.a)(x,2),g=O[0],w=O[1],y=Object(c.useState)(e.initialRoomSettings.isSpellCheck),k=Object(v.a)(y,2),C=k[0],S=k[1],N=Object(c.useRef)(Te.a.debounce((function(t){return function(t){e.updateRoom({password:t})}(t)}),500),[]).current;return Object(a.jsxs)("div",{className:"CustomizeView-container",children:[Object(a.jsxs)(L.a,{style:{maxWidth:"150px",margin:"8px 0 0 0",fontSize:"15px"},onClick:function(){return n.push("/")},children:[Object(a.jsx)(I.a,{}),"Back to Lobby"]}),Object(a.jsx)("h2",{children:"Room: ".concat(e.roomId)}),Object(a.jsxs)("div",{className:"CustomizeView-form",children:[Object(a.jsx)(Ne.a,{checked:s,label:"Private",control:Object(a.jsx)(Ie.a,{}),onChange:function(t){o(t.target.checked),e.updateRoom({isPrivate:t.target.checked})},className:"CustomizeView-switch"}),s&&Object(a.jsx)(z.a,{label:"Password",placeholder:"Enter a room password",variant:"outlined",InputLabelProps:{shrink:!0},size:"small",onChange:function(e){m(e.target.value),N(e.target.value)},value:j,style:{marginTop:"20px"}}),Object(a.jsxs)(Re.a,{size:"small",variant:"outlined",style:{marginTop:"20px",maxWidth:"70px"},children:[Object(a.jsx)(Le.a,{children:"Rounds"}),Object(a.jsxs)(ze.a,{native:!0,label:"Rounds",value:p,onChange:function(t){f(t.target.value),e.updateRoom({rounds:t.target.value})},children:[Object(a.jsx)("option",{value:1,children:"1"}),Object(a.jsx)("option",{value:2,children:"2"}),Object(a.jsx)("option",{value:3,children:"3"}),Object(a.jsx)("option",{value:4,children:"4"}),Object(a.jsx)("option",{value:5,children:"5"})]})]}),Object(a.jsxs)(Re.a,{size:"small",variant:"outlined",style:{marginTop:"20px",maxWidth:"120px"},children:[Object(a.jsx)(Le.a,{children:"Drawing Timer"}),Object(a.jsxs)(ze.a,{native:!0,value:g,label:"Drawing Timer",onChange:function(t){w(t.target.value),e.updateRoom({timer:t.target.value})},children:[Object(a.jsx)("option",{value:30,children:"30s"}),Object(a.jsx)("option",{value:45,children:"45s"}),Object(a.jsx)("option",{value:60,children:"1m"}),Object(a.jsx)("option",{value:90,children:"1m 30s"}),Object(a.jsx)("option",{value:120,children:"2m"}),Object(a.jsx)("option",{value:150,children:"2m 30s"}),Object(a.jsx)("option",{value:180,children:"3m"})]})]}),Object(a.jsx)(Ne.a,{style:{marginTop:"20px"},checked:C,label:"Allow Spellcheck",control:Object(a.jsx)(Ie.a,{}),onChange:function(t){S(t.target.checked),e.updateRoom({isSpellCheck:t.target.checked})},className:"CustomizeView-switch"})]}),Object(a.jsx)(ae.a,{variant:"contained",color:"secondary",onClick:e.startGame,disableElevation:!0,style:{borderRadius:0},disabled:!e.canStartGame,className:t.disabledButton,children:e.canStartGame?"Start Game":"Waiting for more players"})]})},We=(n.p,n(469)),De=n(470),Be=n(473),He=n(474),Me=(n.p,n(67)),Ae=n(471),Ve=n(472),Ue=n(200),Ye=["#000000","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722","#795548","#607d8b"],Je=Object(J.a)((function(e){return{optionsContainer:{alignItems:"flex-end",bottom:"12px",display:"flex",right:"2%",position:"absolute"},penSizeOptionsContainer:{cursor:"pointer"},penSizeOptions:{padding:e.spacing(2),verticalAlign:"baseline",alignItems:"flex-end",display:"flex"},penSize:{cursor:"pointer",margin:e.spacing(1)},colorOptionsContainer:{cursor:"pointer"},colorSizeOptions:{padding:e.spacing(2)},clearOptionContainer:{cursor:"pointer",top:"12px",display:"flex",height:"20%",left:"95%",position:"absolute"},eraserIcon:{width:24,height:24,cursor:"pointer",marginRight:e.spacing(1),marginBottom:e.spacing(.5)}}})),Fe=function(e){var t=Je(),n=Object(c.useState)(null),i=Object(v.a)(n,2),r=i[0],s=i[1],o=Object(c.useState)(!1),l=Object(v.a)(o,2),u=l[0],j=l[1],m=Object(c.useState)(!1),b=Object(v.a)(m,2),h=b[0],p=b[1],f=Object(c.useState)(),x=Object(v.a)(f,2),O=x[0],g=x[1],w=e.penSize,y=e.setPenSize,k=e.activeColor,C=e.setActiveColor,S=e.clearBoard,N=(e.fillBoard,e.penType),I=e.setPenType;Object(c.useEffect)((function(){}),[w,y,k,C]);var R=function(e){return function(t){g(e),s(t.currentTarget),"pen"===e?(p(!h),j(!1)):(j(!u),p(!1))}},L=function(e){C(e.hex)},z=function(e){switch(e){case"small":I("pen"),y(5);break;case"default":I("pen"),y(25);break;case"large":I("pen"),y(50);break;case"fill":I("fill");break;case"erase":I("eraser")}},E=function(){switch(O){case"pen":return Object(a.jsxs)("div",{className:t.penSizeOptions,children:[Object(a.jsx)(We.a,{className:t.penSize,color:"secondary",fontSize:"small",onClick:function(){return z("small")}}),Object(a.jsx)(We.a,{className:t.penSize,color:"secondary",fontSize:"default",onClick:function(){return z("default")}}),Object(a.jsx)(We.a,{className:t.penSize,color:"secondary",fontSize:"large",onClick:function(){return z("large")}}),Object(a.jsx)(De.a,{className:t.penSize,color:"secondary",fontSize:"large",onClick:function(){return z("fill")}}),Object(a.jsxs)(Me.a,{className:t.penSize,color:"secondary",fontSize:"default",onClick:function(){return z("erase")},children:[Object(a.jsx)("path",{d:"M28.7,8.9l-5.7-5.7c-1.1-1.1-3.1-1.1-4.2,0l-7.1,7.1c0,0,0,0,0,0s0,0,0,0l-7.5,7.5c-1.2,1.2-1.2,3.1,0,4.2l3.8,3.8\r c0.2,0.2,0.4,0.3,0.7,0.3h6.6c0.3,0,0.5-0.1,0.7-0.3l12.7-12.7c0,0,0,0,0,0C29.9,12,29.9,10.1,28.7,8.9z M14.9,24.1H9.2l-3.5-3.5\r c-0.4-0.4-0.4-1,0-1.4l6.8-6.8l7.1,7.1L14.9,24.1z"}),Object(a.jsx)("path",{d:"M27,28H5c-0.6,0-1,0.4-1,1s0.4,1,1,1h22c0.6,0,1-0.4,1-1S27.6,28,27,28z"})]})]});case"color":return Object(a.jsx)("div",{className:t.colorSizeOptions,children:Object(a.jsx)(Ue.a,{onChangeComplete:L,color:k,colors:Ye})});default:return""}};return Object(a.jsx)(c.Fragment,{children:Object(a.jsxs)("div",{className:t.optionsContainer,children:[Object(a.jsx)(Ae.a,{open:h||u,anchorEl:r,placement:"top",transition:!0,onMouseLeave:function(){return p(!1),void j(!1)},children:function(e){var t=e.TransitionProps;return Object(a.jsx)(Ve.a,Object(d.a)(Object(d.a)({},t),{},{timeout:350,children:Object(a.jsx)(F.a,{children:E()})}))}}),Object(a.jsx)("div",{className:t.penSizeOptionsContainer,onClick:R("pen"),children:function(){switch(N){case"pen":return Object(a.jsx)(We.a,{color:"secondary",fontSize:"".concat(5===w?"small":25===w?"default":"large")});case"fill":return Object(a.jsx)(De.a,{color:"secondary",fontSize:"large"});case"eraser":return Object(a.jsxs)(Me.a,{className:t.eraserIcon,color:"secondary",fontSize:"large",children:[Object(a.jsx)("path",{d:"M28.7,8.9l-5.7-5.7c-1.1-1.1-3.1-1.1-4.2,0l-7.1,7.1c0,0,0,0,0,0s0,0,0,0l-7.5,7.5c-1.2,1.2-1.2,3.1,0,4.2l3.8,3.8\r c0.2,0.2,0.4,0.3,0.7,0.3h6.6c0.3,0,0.5-0.1,0.7-0.3l12.7-12.7c0,0,0,0,0,0C29.9,12,29.9,10.1,28.7,8.9z M14.9,24.1H9.2l-3.5-3.5\r c-0.4-0.4-0.4-1,0-1.4l6.8-6.8l7.1,7.1L14.9,24.1z"}),Object(a.jsx)("path",{d:"M27,28H5c-0.6,0-1,0.4-1,1s0.4,1,1,1h22c0.6,0,1-0.4,1-1S27.6,28,27,28z"})]})}}()}),Object(a.jsx)("div",{className:t.colorOptionsContainer,onClick:R("color"),children:Object(a.jsx)(Be.a,{color:"secondary",fontSize:"large"})}),Object(a.jsx)("div",{className:t.colorOptionsContainer,onClick:function(){return S(!0)},children:Object(a.jsx)(He.a,{color:"secondary",fontSize:"large"})})]})})},Ke=Object(J.a)((function(e){return{gameBoard:{position:"relative",width:"100%",margin:"20px 0 40px 0",flex:"1"},gameBoardCanvas:{backgroundColor:"white",borderRadius:"5px",boxShadow:"10px 10px 0 0 rgba(0,0,0, .2)",userSelect:"none","-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)","-webkitUserDrag":"none",cursor:"none",width:"100%"},gameBoardBottom:{backgroundColor:"#999",borderRadius:"0 0 12px 12px",bottom:"0",height:"12px",left:"-20px",position:"absolute",width:"calc(100% + 40px)"}}})),Xe=function(e){var t,n=e.socket,i=e.setDisplayPen,r=e.isYourTurn,s=Object(c.useRef)(null),o=Object(c.useState)("#000000"),l=Object(v.a)(o,2),d=l[0],u=l[1],j=Object(c.useState)(25),m=Object(v.a)(j,2),b=m[0],h=m[1],p=Object(c.useState)("pen"),f=Object(v.a)(p,2),x=f[0],O=f[1],g=Object(c.useState)(!1),w=Object(v.a)(g,2),y=(w[0],w[1],!1),k=0,C={color:"black"},S=!0,N={items:[],enqueue:function(e){this.items.push(e)},dequeue:function(){return this.items.shift()},peek:function(){return this.items[0]}},I=Ke();function R(e){var t=N.dequeue();void 0!==t?(A(t),e?setTimeout((function(){return R(!0)}),t.time):R(!0)):S=!0}Object(c.useEffect)((function(){return window.addEventListener("resize",H,!1),H(),n&&(n.on("drawing",(function(e){M(e),S&&(setTimeout((function(){return R(!1)}),500),S=!1)})),n.on("clear board",(function(e){M(e),S&&(setTimeout((function(){return R(!1)}),500),S=!1)})),n.on("fill board",(function(e){M(e),S&&(setTimeout((function(){return R(!1)}),500),S=!1)}))),function(){window.removeEventListener("resize",H,!1)}}),[]),Object(c.useEffect)((function(){var e=s.current;return t=e.getContext("2d"),r&&(e.addEventListener("mousedown",P,!1),e.addEventListener("mouseup",D,!1),e.addEventListener("mouseout",D,!1),e.addEventListener("mousemove",B(W,10),!1),e.addEventListener("touchstart",P,!1),e.addEventListener("touchend",D,!1),e.addEventListener("touchcancel",D,!1),e.addEventListener("touchmove",B(W,10),!1)),function(){r&&(e.removeEventListener("mousedown",P,!1),e.removeEventListener("mouseup",D,!1),e.removeEventListener("mouseout",D,!1),e.removeEventListener("mousemove",B(W,5),!1),e.removeEventListener("touchstart",P,!1),e.removeEventListener("touchend",D,!1),e.removeEventListener("touchcancel",D,!1),e.removeEventListener("touchmove",W,!1))}}),[b,h,d,u,x,O,r]);var L=function(e,a){var c=s.current,i=c.width,r=c.height;(t=c.getContext("2d")).beginPath(),t.rect(0,0,i,r),t.fillStyle=a||d,t.fill(),e&&n&&n.emit("fill",d)},z=function(e){var a=s.current,c=a.width,i=a.height;(t=a.getContext("2d")).clearRect(0,0,c,i),e&&n&&n.emit("clear")},E=function(e,a,c,i,r,o,l){if("fill"!==x){var d="eraser"===x?"#FFFFFF":r,u=s.current,j=u.width,m=u.height;if(t.beginPath(),t.moveTo(e,a),t.lineTo(c,i),t.strokeStyle=d,t.lineWidth=o,t.lineCap="round",t.stroke(),l&&n){var b;if(0===k)b=0,k=(new Date).getTime();else{var h=(new Date).getTime();b=h-k,k=h}n.emit("drawing1",{x0:e/j,y0:a/m,x1:c/j,y1:i/m,penColor:d,size:o,time:b})}}else L(l,r)},T=function(e){var t=s.current,n=t.getBoundingClientRect();return((Te.a.get(e,"clientX")||Te.a.get(e,"touches[0].clientX"))-n.left)/(n.right-n.left)*t.width},G=function(e){var t=s.current,n=t.getBoundingClientRect();return((Te.a.get(e,"clientY")||Te.a.get(e,"touches[0].clientY"))-n.top)/(n.bottom-n.top)*t.height},P=function(e){y=!0,C.X=T(e),C.Y=G(e)},W=function(e){y&&(E(C.X,C.Y,T(e),G(e),d,b,!0),C.X=T(e),C.Y=G(e))},D=function(e){y&&void 0!==e&&(y=!1,E(C.X,C.Y,T(e),G(e),d,b,!0))},B=function(e,t){var n=(new Date).getTime();return function(){var a=(new Date).getTime();a-n>=t&&(n=a,e.apply(null,arguments))}},H=function(){var e=s.current;if(e){var t=document.getElementById("gameBoard");e.width=t&&t.clientWidth,e.height=t&&t.clientHeight}},M=function(e){N.enqueue(e)},A=function(e){var t=s.current;if(null!==t)switch(e.eventType){case"clear board":z(!1);break;case"fill board":L(!1,e.color);break;default:var n=t.width,a=t.height;E(e.x0*n,e.y0*a,e.x1*n,e.y1*a,e.penColor,e.size,!1)}};return Object(a.jsxs)("div",{className:I.gameBoard,id:"gameBoard",onMouseOut:function(){return i(!1)},onMouseOver:function(){return i(!0)},children:[Object(a.jsx)("canvas",{ref:s,className:I.gameBoardCanvas}),Object(a.jsx)("div",{className:I.gameBoardBottom}),Object(a.jsx)(Fe,{penSize:b,setPenSize:h,activeColor:d,setActiveColor:u,fillBoard:L,clearBoard:z,penType:x,setPenType:O})]})},qe=n(483),_e=Object(J.a)((function(e){return{chatMessageContainer:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",width:"100%",marginTop:"5px"},name:{fontWeight:"600",fontSize:"15 px",textAlign:"left"},text:{marginLeft:"10px",fontWeight:"400",fontSize:"15px"},correct:{fontWeight:"600",fontSize:"15 px",color:"#02DB02"}}}));var Qe=function(e){var t=e.name,n=e.text,c=e.isCorrect,i=_e();return c?Object(a.jsx)("div",{className:i.chatMessageContainer,children:Object(a.jsx)("h4",{className:i.correct,children:"".concat(t," guessed correctly")})}):Object(a.jsxs)("div",{className:i.chatMessageContainer,children:[Object(a.jsx)("h4",{className:i.name,children:"".concat(t,":")}),Object(a.jsx)("h4",{className:i.text,children:n})]})},Ze=Object(J.a)((function(e){return{chatContainer:{overflow:"hidden",display:"flex",flexDirection:"column",width:"100%",height:"100%",boxShadow:"10px 10px 0 0 rgba(0,0,0, .2)"},chatOutputContainer:{overflowY:"auto",flex:"1",display:"flex",justifyContent:"flex-end",flexDirection:"column",paddingRight:e.spacing(1.5),paddingLeft:e.spacing(1.5)},chatInputContainer:{padding:e.spacing(1.5),height:"auto"},chatHeader:{margin:"auto",padding:"10px 0 5px 0",fontWeight:"400",fontSize:"20px"},wordOptions:{padding:e.spacing(1),verticalAlign:"baseline",alignItems:"flex-end",display:"flex"},word:{cursor:"pointer"}}}));var $e=function(e){var t=e.onNewWord,n=e.words,i=e.isYourTurn,r=e.isSpellCheck,s=e.onKeyDown,o=e.setMissSpelledWords,l=e.missSpelledWords,u=e.suggetions,j=Object(c.useState)(""),m=Object(v.a)(j,2),b=m[0],h=m[1],p=Object(c.useState)(null),f=Object(v.a)(p,2),x=f[0],O=f[1],g=Object(c.useState)(!1),w=Object(v.a)(g,2),y=w[0],k=w[1],C=Ze();Object(c.useEffect)((function(){Te.a.get(l,"length")>0&&k(!0)}),[l,b]);var S=function(){if(Te.a.get(l,"length")>0&&Te.a.get(u,"[0].length")>0)return Object(a.jsx)("div",{className:C.wordOptions,children:u[0].map((function(e,t){return t<3&&Object(a.jsx)(qe.a,{onClick:function(){return function(e){h(Te.a.replace(b,Te.a.get(l,"[0]"),e)),o([])}(e)},className:C.word,label:e,color:"secondary"})}))})};return Object(a.jsxs)(F.a,{className:C.chatContainer,children:[Object(a.jsx)(Ae.a,{open:y,anchorEl:x,placement:"top",transition:!0,onMouseLeave:function(){k(!1)},children:function(e){var t=e.TransitionProps;return Object(a.jsx)(Ve.a,Object(d.a)(Object(d.a)({},t),{},{timeout:350,children:Object(a.jsx)(F.a,{children:S()})}))}}),Object(a.jsx)("h2",{className:C.chatHeader,children:"Guesses"}),Object(a.jsx)("div",{className:C.chatOutputContainer,children:void 0!==n&&n.map((function(e,t){return Object(a.jsx)(Qe,{isCorrect:e.isCorrect,name:e.name,text:e.word},t)}))}),Object(a.jsx)("div",{className:C.chatInputContainer,children:!i&&Object(a.jsx)(z.a,{value:b,onKeyDown:function(e){O(e.currentTarget),"Enter"===e.key&&(h(""),t(b.trim().toLowerCase()))},onChange:function(e){return function(e){r&&s(e.target.value),h(e.target.value)}(e)},size:"small",variant:"filled",fullWidth:!0,label:"Type your guess...",error:Te.a.get(l,"length")>0})})]})},et=n.p+"static/media/clock.1c1ca49f.svg";n(369);var tt=function(e){var t=e.time;return Object(a.jsxs)("div",{className:"Timer",children:[Object(a.jsx)("img",{className:"Timer-image",src:et}),Object(a.jsx)("h5",{className:"Timer-text",children:"".concat(t,"s")})]})},nt=n(78),at=n(51),ct=n.n(at);n(379);var it=function(e){var t=e.isOpen,n=e.topUsers,c=e.handlePlayAgain,i=Object(l.g)();function r(e){if(void 0!==n){var t=n.find((function(t){return t.place===e}));if(void 0!==t)return function(e,t,n){var c,i,r;switch(e){case 1:c="90%",i="1st",r="#ffd700";break;case 2:c="70%",i="2nd",r="#C0C0C0";break;case 3:c="50%",i="3rd",r="#cd7f32";break;default:c="0%",i="",r="#ffffff"}return Object(a.jsxs)("div",{style:{height:c},className:"GameOverModal-place",children:[Object(a.jsx)("img",{src:V[n]}),Object(a.jsx)("h4",{children:t}),Object(a.jsx)("div",{className:"GameOverModal-podium",style:{backgroundColor:r}}),Object(a.jsx)("h3",{children:i})]})}(e,t.name,t.emojiId)}}return Object(a.jsx)(ct.a,{overlayClassName:"GameOverModal-overlay",className:"GameOverModal-content",isOpen:t,children:Object(a.jsxs)("div",{className:"GameOverModal-container",children:[Object(a.jsx)("h1",{children:"Game Over"}),Object(a.jsxs)("div",{className:"GameOverModal-places",children:[r(2),r(1),r(3)]}),Object(a.jsxs)("div",{className:"GameOverModal-buttons",children:[Object(a.jsx)(ae.a,{onClick:function(){i.push("/")},style:{width:"40%"},variant:"contained",children:"Leave"}),Object(a.jsx)(ae.a,{onClick:c,style:{width:"40%"},variant:"contained",color:"secondary",children:"Play Again"})]})]})})},rt=n(53),st=n.p+"static/media/correctWord.d7101710.mp3",ot=n.p+"static/media/turnStart.74635a80.mp3";G.a.configure();var lt=Object(J.a)((function(e){return{root:{height:"100%",width:"100%"},game:{display:"flex",height:"100%",position:"relative"},gameBoardPen:{backgroundImage:"url(".concat(ke,")"),backgroundPosition:"center center",backgroundRepeat:"no-repeat",backgroundSize:"contain",top:"0",left:"0",position:"absolute",width:50,height:50,cursor:"none",pointerEvents:"none",zIndex:99999},gridContainer:{width:"100%",height:"100%"},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},gridItem:{height:"100%"},gridItemGame:{display:"flex",height:"100%",flexDirection:"column"},gameHeader:{width:"100%",textAlign:"center",verticalAlign:"center",color:"#36363"},gameHeaderPaper:{width:"auto",margin:"auto",boxShadow:"10px 10px 0 0 rgba(0,0,0, .2)",padding:"10px"},wordPicker:{position:"absolute",top:"20px",left:"0",bottom:"40px",width:"100%",borderRadius:"5px",background:" rgba(0, 0, 0, 0.7)",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",color:"white",textAlign:"center"},wordGrid:{marginTop:"10px",display:"grid",gridGap:"8px",gridTemplateColumns:"1fr 1fr 1fr"},wordHint:{whiteSpace:"break-spaces"},headerItems:{margin:"auto"}}})),dt=function(e){var t=e.socket,n=e.handlePlayAgain,i=e.isSpellCheck;rt.Howler.volume(.8);var r=Object(c.useRef)(null),s=lt(),o=(Object(l.g)(),Object(c.useState)(!1)),d=Object(v.a)(o,2),u=d[0],j=d[1],m=Object(c.useState)([]),b=Object(v.a)(m,2),h=b[0],p=b[1],f=Object(c.useState)([]),x=Object(v.a)(f,2),g=x[0],w=x[1],y=Object(c.useState)(!1),k=Object(v.a)(y,2),C=k[0],S=k[1],N=Object(c.useState)(!1),I=Object(v.a)(N,2),L=I[0],z=I[1],E=Object(c.useState)(!1),T=Object(v.a)(E,2),G=T[0],P=T[1],W=Object(c.useState)(""),D=Object(v.a)(W,2),B=D[0],H=D[1],M=Object(c.useState)(0),A=Object(v.a)(M,2),V=A[0],U=A[1],Y=Object(c.useState)(""),J=Object(v.a)(Y,2),K=J[0],X=J[1],q=Object(c.useState)(""),_=Object(v.a)(q,2),Q=_[0],Z=_[1],$=Object(c.useState)(!1),ee=Object(v.a)($,2),te=ee[0],ne=ee[1],ce=Object(c.useState)([]),ie=Object(v.a)(ce,2),re=ie[0],se=ie[1],oe=Object(c.useState)([]),le=Object(v.a)(oe,2),de=le[0],ue=le[1],je=Object(c.useState)({}),me=Object(v.a)(je,2),be=me[0],he=me[1],pe=Object(nt.b)({opacity:G?1:0}),fe=Object(nt.b)({from:{opacity:G?1:0},to:{opacity:G?0:1}}),Oe=new rt.Howl({src:st}),ge=new rt.Howl({src:ot});function ve(e){e.isCorrect&&Oe.play();var t={name:e.name,word:e.word,isCorrect:e.isCorrect};p((function(e){return[].concat(Object(xe.a)(e),[t])}))}Object(c.useEffect)((function(){void 0!==t&&(t.on("new guess",ve),t.on("start your turn",(function(e){z(!0),P(!1),S(!1),w(e)})),t.on("switch turns",(function(e){O.getId()!==e.userId&&(z(!1),P(!1),S(!1))})),t.on("turn started",(function(e){ge.play(),p([]),X("".concat(e.round," of ").concat(e.totalRounds)),Z(e.wordHint.toUpperCase()),S(!0),P(!1)})),t.on("timer",(function(e){U(e)})),t.on("turn end",(function(e){var t;t=e.word,P(!0),H(t.toUpperCase()),Z(""),U(0)})),t.on("game over",(function(e){!function(e){se(e),ne(!0)}(e)})),t.on("word hint update",(function(e){Z(e.wordHint)})),t.on("spelling checked",(function(e){ue(e.missSpelledWords),he(e.suggestions)})))}),[]),Object(c.useEffect)((function(){}),[j,u]);return Object(a.jsxs)("div",{className:s.root,children:[u&&Object(a.jsx)("div",{ref:r,className:s.gameBoardPen}),Object(a.jsxs)(R.a,{className:s.gridContainer,container:!0,spacing:3,onMouseMove:function(e){return u&&function(e){r.current.style.left="".concat(e.pageX,"px"),r.current.style.top="".concat(e.pageY-50,"px")}(e)},children:[Object(a.jsxs)(R.a,{className:s.gridItemGame,item:!0,spacing:3,xs:10,children:[Object(a.jsx)("div",{children:Object(a.jsx)(F.a,{className:s.gameHeaderPaper,children:Object(a.jsxs)(R.a,{container:!0,className:s.gameHeader,children:[Object(a.jsx)(R.a,{className:s.headerItems,item:!0,xs:1,sm:3,children:Object(a.jsx)("h2",{style:{fontWeight:500},children:"Round: ".concat(K)})}),Object(a.jsx)(R.a,{className:s.headerItems,item:!0,xs:1,sm:6,children:Object(a.jsx)("h2",{className:s.wordHint,children:"".concat(Q)})}),Object(a.jsx)(R.a,{className:s.headerItems,item:!0,xs:1,sm:3,children:Object(a.jsx)(tt,{time:V})})]})})}),Object(a.jsxs)("div",{className:s.game,children:[Object(a.jsx)(Xe,{socket:t,setDisplayPen:j,isYourTurn:L}),!C&&Object(a.jsx)(nt.a.div,{style:fe,children:Object(a.jsxs)("div",{className:s.wordPicker,children:[Object(a.jsx)("h1",{children:L?"Choose a word:":"Waiting for player to choose a word..."}),L&&Object(a.jsx)("div",{className:s.wordGrid,children:g&&g.map((function(e,n){return Object(a.jsx)(ae.a,{onClick:function(){return function(e,n){t.emit("word selected",{word:e,difficulty:n}),Z(e.toUpperCase()),w([])}(e.word,e.difficulty)},variant:"contained",children:e.word},n)}))})]})}),G&&Object(a.jsx)(nt.a.div,{style:pe,children:Object(a.jsxs)("div",{className:s.wordPicker,children:[Object(a.jsx)("h1",{children:"Turn over"}),Object(a.jsxs)("h2",{children:[Object(a.jsx)("span",{style:{fontWeight:400},children:"The Correct word was: "}),B]})]})})]})]}),Object(a.jsx)(R.a,{className:s.gridItem,item:!0,xs:2,children:Object(a.jsx)($e,{isYourTurn:L,words:h,onNewWord:function(e){void 0!==e&&e.length>0&&t.emit("send word",{word:e,timeLeft:V})},isSpellCheck:i,onKeyDown:function(e){Te.a.get(e,"length")>0&&t.emit("spell check",{corpus:e})},setMissSpelledWords:ue,missSpelledWords:de,setSuggetions:he,suggetions:be})})]}),Object(a.jsx)(it,{handlePlayAgain:n,topUsers:re,isOpen:te})]})};var ut=function(e){return Object(a.jsx)(dt,Object(d.a)({},e))};n(380),n(381);ct.a.setAppElement("#root");var jt=function(e){var t=e.isValidRoom,n=e.isPrivateRoom,i=e.isHost,r=e.validatePassword,s=e.errorMessage,o=!t||n&&!i,d=Object(l.g)(),u=Object(c.useRef)();return Object(a.jsxs)(ct.a,{overlayClassName:"CreateLobbyModal-overlay",className:"CreateLobbyModal-content",isOpen:o,children:[Object(a.jsxs)(L.a,{style:{maxWidth:"150px",padding:"12px 0",fontSize:"15px"},onClick:function(){return d.push("/")},children:[Object(a.jsx)(I.a,{}),"Back to Lobby"]}),t?Object(a.jsxs)("div",{children:[Object(a.jsx)("h3",{children:"Enter the room password"}),Object(a.jsx)(z.a,{label:"Enter password",placeholder:"",fullWidth:!0,variant:"outlined",InputLabelProps:{shrink:!0},size:"small",inputRef:u,style:{marginTop:"20px"}}),Object(a.jsx)(R.a,{container:!0,justify:"flex-end",children:Object(a.jsx)(ae.a,{variant:"contained",color:"secondary",style:{borderRadius:0,color:"white",marginTop:"20px"},onClick:function(){return r(u.current.value)},children:"Join Game"})})]}):Object(a.jsx)("div",{className:"CreateLobbyModal-error",children:Object(a.jsx)("h1",{children:s})})]})},mt=n(475),bt=n(476);n(382);G.a.configure(),ct.a.setAppElement("#root");var ht,pt=function(e){var t=e.isOpen,n=e.setIsOpen;return Object(a.jsxs)(ct.a,{overlayClassName:"InviteLinkModal-overlay",className:"InviteLinkModal-content",isOpen:t,onRequestClose:function(){return n(!1)},children:[Object(a.jsx)(L.a,{style:{maxWidth:"150px",padding:"12px 0",fontSize:"15px"},onClick:function(){return n(!1)},children:Object(a.jsx)(mt.a,{})}),Object(a.jsxs)("div",{children:[Object(a.jsx)("h3",{children:"Copy this link to invite friends!"}),Object(a.jsx)(z.a,{label:"Invite Link",fullWidth:!0,variant:"outlined",InputLabelProps:{shrink:!0},size:"small",value:window.location.href,disabled:!0,style:{marginTop:"20px"}}),Object(a.jsxs)(ae.a,{variant:"contained",color:"secondary",fullWidth:!0,style:{borderRadius:0,color:"white",marginTop:"20px",backgroundColor:"#CE5BF7"},onClick:function(){var e=document.createElement("input");e.value=window.location.href,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),G.a.info("Copied Link!")},children:[Object(a.jsx)(bt.a,{})," Copy Link"]})]})]})},ft=n(198),xt=n.n(ft),Ot=n.p+"static/media/userJoined.390ec013.mp3",gt=n.p+"static/media/userLeft.4ed5c011.mp3",vt=Object(J.a)((function(e){return{root:{height:"100vh",width:"100vw",display:"flex",justifyContent:"center",alignItems:"center",backgroundImage:"url(".concat(y,")"),flexGrow:1},header:{display:"flex",justifyContent:"center",alignItems:"flex-start",height:"auto"},container:{display:"flex",justifyContent:"center",alignItems:"center",height:"90%",minHeight:"600px"},gridContainer:{width:"100%",height:"100%"},customizeViewGridItem:Object(Oe.a)({display:"flex",width:"auto",height:"80%",alignItems:"center"},e.breakpoints.down("sm"),{height:"auto"})}}));G.a.configure();var wt=function(){rt.Howler.volume(.8);var e=vt(),t=Object(l.h)().roomId,n=Object(c.useState)(!1),i=Object(v.a)(n,2),r=i[0],s=i[1],o=Object(c.useState)(!0),d=Object(v.a)(o,2),u=d[0],j=d[1],b=Object(c.useState)(!1),h=Object(v.a)(b,2),p=h[0],f=h[1],x=Object(c.useState)({}),g=Object(v.a)(x,2),y=g[0],k=g[1],N=Object(c.useState)(!0),I=Object(v.a)(N,2),L=I[0],z=I[1],E=Object(c.useState)(!1),T=Object(v.a)(E,2),P=T[0],W=T[1],D=Object(c.useState)([]),B=Object(v.a)(D,2),H=B[0],M=B[1],A=Object(c.useState)(""),V=Object(v.a)(A,2),U=V[0],Y=V[1],J=Object(c.useState)(!1),F=Object(v.a)(J,2),K=F[0],q=F[1],_=Object(c.useState)("-"),Q=Object(v.a)(_,2),Z=Q[0],$=Q[1],ee=Object(c.useState)("-"),te=Object(v.a)(ee,2),ne=te[0],ae=te[1],ce=Object(c.useState)(!1),ie=Object(v.a)(ce,2),re=ie[0],se=ie[1],oe=Object(c.useState)(""),le=Object(v.a)(oe,2),de=le[0],ue=le[1],je=Object(c.useState)(""),me=Object(v.a)(je,2),be=me[0],he=me[1],pe=Object(c.useState)([]),fe=Object(v.a)(pe,2),Oe=fe[0],ge=fe[1],ve=Object(c.useState)(!1),we=Object(v.a)(ve,2),ye=we[0],ke=we[1],Ce=Object(c.useState)([]),Ne=Object(v.a)(Ce,2),Ie=Ne[0],Re=Ne[1],Le=new rt.Howl({src:Ot}),ze=new rt.Howl({src:gt});function Ee(e){var t="Your place will be reset, are you sure you want to refresh?";return(e||window.event).returnValue=t,t}function Te(e){return Ge.apply(this,arguments)}function Ge(){return(Ge=Object(S.a)(C.a.mark((function e(n){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,void 0!==n.rounds&&void 0!==ht&&ht.emit("update room settings",{rounds:n.rounds}),void 0!==n.timer&&void 0!==ht&&ht.emit("update room settings",{timer:n.timer}),void 0!==n.isSpellCheck&&void 0!==ht&&ht.emit("update room settings",{isSpellCheck:n.isSpellCheck}),e.next=6,m.a.patch("/room/".concat(t),n,{headers:{token:O.getToken()}});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),G.a.error("Error updaing values");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function We(e){return De.apply(this,arguments)}function De(){return(De=Object(S.a)(C.a.mark((function e(n){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.post("/room/join/".concat(t),{password:n},{headers:{token:O.getToken()}});case 3:f(!1),He(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),G.a.error("Incorrect password");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function Be(){W(!0)}function He(){(ht=xt()({query:{token:O.getToken(),roomId:t}})).on("force disconnect",(function(){console.log("disconnected"),ht.disconnect(),ue("The room is full"),z(!1)})),ht.on("game in progress",(function(e){q(!0)})),ht.on("game start",(function(){q(!0)})),ht.on("switch turns",(function(e){he(e.userId)})),ht.on("correct guess",(function(e){ge((function(t){return[].concat(Object(xe.a)(t),[e])}))})),ht.on("user connected",(function(e){!function(e){Le.play(),M((function(t){return[].concat(Object(xe.a)(t),[e])}))}(e)})),ht.on("user disconnected",(function(e){!function(e){ze.play(),M((function(t){return t.filter((function(t){return t.id!==e}))}))}(e)})),ht.on("new host",(function(e){!function(e){Y(e),e.toString()!==O.getId()||r||s(!0)}(e)})),ht.on("new room settings",(function(e){void 0!==e.timer&&$(e.timer),void 0!==e.rounds&&ae(e.rounds),void 0!==e.isSpellCheck&&se(e.isSpellCheck)})),ht.on("turn started",(function(){ge([])})),ht.on("scores",(function(e){!function(e){Re(e)}(e)}))}function Me(){r&&void 0!==ht&&ht.emit("start game")}function Ae(){q(!1)}return Object(c.useEffect)((function(){function e(){return(e=Object(S.a)(C.a.mark((function e(){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("/room/find/".concat(t),{headers:{token:O.getToken()}});case 3:n=e.sent,s(n.data.room.isHost),k(n.data.room),f(n.data.room.isPrivate),z(!0),M(n.data.room.users),Y(n.data.room.hostId),$(n.data.room.timer),ae(n.data.room.rounds),se(n.data.room.isSpellCheck),n.data.room.isHost?He():n.data.room.isPrivate||He(),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),z(!1),ue("This room does not exist");case 20:return e.prev=20,j(!1),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[0,16,20,23]])})))).apply(this,arguments)}return function(){e.apply(this,arguments)}(),window.addEventListener("beforeunload",Ee),function(){window.removeEventListener("beforeunload",Ee),ht&&ht.disconnect()}}),[]),Object(c.useEffect)((function(){ke(H.length>1)}),[H]),K?Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsxs)(R.a,{className:e.gridContainer,container:!0,spacing:3,children:[Object(a.jsx)(R.a,{item:!0,xs:12,className:e.header,children:Object(a.jsx)(X,{})}),Object(a.jsx)(R.a,{item:!0,xs:2,className:e.customizeViewGridItem,children:Object(a.jsx)(Se,{isGame:!0,scores:Ie,correctUserIds:Oe,drawingUserId:be,handleInviteLink:Be,users:H,hostId:U})}),Object(a.jsx)(R.a,{item:!0,xs:10,className:e.customizeViewGridItem,children:Object(a.jsx)(ut,{roomId:t,socket:ht,handlePlayAgain:Ae,isSpellCheck:re})})]}),Object(a.jsx)(jt,{isValidRoom:L,errorMessage:de,isHost:r,isPrivateRoom:p,validatePassword:We}),Object(a.jsx)(pt,{isOpen:P,setIsOpen:W})]}):Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsx)(w.a,{className:e.container,maxWidth:"md",children:Object(a.jsxs)(R.a,{className:e.gridContainer,container:!0,spacing:3,children:[Object(a.jsx)(R.a,{item:!0,xs:12,className:e.header,children:Object(a.jsx)(X,{})}),Object(a.jsx)(R.a,{item:!0,xs:12,md:4,className:e.customizeViewGridItem,children:Object(a.jsx)(Se,{isGame:!1,handleInviteLink:Be,users:H,hostId:U})}),Object(a.jsx)(R.a,{item:!0,xs:12,md:8,className:e.customizeViewGridItem,children:u?Object(a.jsx)("div",{className:"CreateLobbyView-waiting",children:Object(a.jsx)("h1",{children:"Loading..."})}):r?Object(a.jsx)(Pe,{canStartGame:ye,className:"",initialRoomSettings:y,roomId:t,updateRoom:Te,startGame:Me}):Object(a.jsxs)("div",{className:"CreateLobbyView-waiting",children:[Object(a.jsx)("h1",{children:"Waiting for game to start..."}),Object(a.jsx)("h2",{children:"# of rounds: ".concat(ne," \u2022 Time each round: ").concat(Z,"s")})]})})]})}),Object(a.jsx)(jt,{isValidRoom:L,errorMessage:de,isHost:r,isPrivateRoom:p,validatePassword:We}),Object(a.jsx)(pt,{isOpen:P,setIsOpen:W})]})},yt=n(199);m.a.defaults.baseURL=yt.proxy;var kt=function(){return Object(a.jsx)(o.a,{children:Object(a.jsxs)(l.d,{children:[Object(a.jsx)(l.b,{exact:!0,path:"/login",component:Y}),Object(a.jsx)(g,{exact:!0,path:"/",component:fe}),Object(a.jsx)(g,{exact:!0,path:"/rooms/:roomId",component:wt}),Object(a.jsx)(g,{exact:!0,path:"/",component:ut})]})})};s.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(kt,{})}),document.getElementById("root"))}},[[419,1,2]]]);
//# sourceMappingURL=main.1a4a9a2c.chunk.js.map